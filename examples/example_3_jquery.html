<!doctype html>
<html>
	<head>

		<title>tmpl.loader - Example 3 - jQuery</title>
	
		<link rel="template/custom-engine" type="text/html" href="mytemplate.tmpl.html" />

		<script src="http://code.jquery.com/jquery.js" type="text/javascript"></script>
		<script src="../tmpl.loader.js" type="text/javascript"></script>
		
		<script type="text/javascript">
		
		var templates = {};
		
		$(function() {
		
			//register the engine.
			$.tmplLoader.engines.register('custom-engine', {
				
				//called when registering the template.
				register: function(name, tmpl) {
					templates[name] = tmpl;
				},
				
				//called when rendering the template.
				render: function(name, data) {
					return templates[name] + '<br />data:<br />' + JSON.stringify(data);
				},
				
				//called when resetting the templates.
				reset: function() {
					templates = {};
				}
			});
		});
		
		$.tmplLoader.ready(function() {
			$('#output').html($.tmplLoader('mytemplate', { message: "test message!" }));
		});
		</script>
		
	</head>
	<body>
		<h1>tmpl.loader Example 3: Custom engine running with jQuery</h1>
		Note that if you run this html file without a web server, you may receive error messages in some browsers due to security issues with loading local files.
		<h3>Sample Output:</h3>
		<div id="output"></div>
	</body>
</html>